<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Logo Integration Guide</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      line-height: 1.6;
      color: #333;
      max-width: 900px;
      margin: 0 auto;
      padding: 20px;
    }
    h1, h2, h3 {
      color: #19466B;
    }
    h1 {
      border-bottom: 2px solid #8c52ff;
      padding-bottom: 10px;
    }
    .tab-container {
      margin: 30px 0;
    }
    .tabs {
      display: flex;
      border-bottom: 1px solid #ddd;
      margin-bottom: 20px;
    }
    .tab {
      padding: 12px 20px;
      cursor: pointer;
      border-bottom: 3px solid transparent;
      margin-right: 10px;
      font-weight: 500;
    }
    .tab.active {
      border-bottom-color: #8c52ff;
      color: #8c52ff;
    }
    .tab-content {
      display: none;
    }
    .tab-content.active {
      display: block;
    }
    .section {
      margin: 30px 0;
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 20px;
      background-color: #f9f9fa;
    }
    .note {
      background-color: #e7f5ff;
      border-left: 4px solid #74c0fc;
      padding: 12px 20px;
      margin: 15px 0;
    }
    .warning {
      background-color: #fff3cd;
      border-left: 4px solid #ffc107;
      padding: 12px 20px;
      margin: 15px 0;
    }
    .success {
      background-color: #d4edda;
      border-left: 4px solid #28a745;
      padding: 12px 20px;
      margin: 15px 0;
    }
    code, pre {
      background-color: #f1f1f1;
      padding: 2px 5px;
      border-radius: 3px;
      font-family: monospace;
      font-size: 14px;
    }
    pre {
      padding: 15px;
      overflow-x: auto;
      white-space: pre-wrap;
    }
    .logo-examples {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      margin: 20px 0;
    }
    .logo-example {
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 15px;
      text-align: center;
      width: 180px;
      background-color: white;
    }
    .logo-path {
      font-family: monospace;
      font-size: 12px;
      margin-top: 10px;
      background-color: #f1f1f1;
      padding: 5px;
      border-radius: 3px;
      word-break: break-all;
    }
    .purple-bg {
      background-color: #8c52ff;
      color: white;
    }
    .dark-bg {
      background-color: #19466B;
      color: white;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
    }
    th, td {
      border: 1px solid #ddd;
      padding: 12px;
      text-align: left;
    }
    th {
      background-color: #f8f9fa;
    }
    .code-block {
      background-color: #f5f5f5;
      border: 1px solid #ddd;
      border-radius: 5px;
      padding: 15px;
      margin: 20px 0;
    }
    .code-header {
      background-color: #e9ecef;
      padding: 8px 15px;
      border-radius: 5px 5px 0 0;
      margin: -15px -15px 15px -15px;
      font-weight: bold;
      border-bottom: 1px solid #ddd;
    }
    .button-row {
      margin-top: 20px;
    }
    button {
      padding: 10px 15px;
      background-color: #8c52ff;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 15px;
      font-weight: 500;
      margin-right: 10px;
      transition: background-color 0.2s;
    }
    button:hover {
      background-color: #7140cc;
    }
    .status {
      padding: 15px;
      border-radius: 5px;
      margin-top: 15px;
      display: none;
    }
  </style>
</head>
<body>
  <h1>Complete Logo Integration Guide</h1>
  <p>This guide provides comprehensive instructions for integrating the custom logo for both web and mobile platforms.</p>
  
  <div class="tab-container">
    <div class="tabs">
      <div class="tab active" onclick="switchTab('web')">Web Logo Integration</div>
      <div class="tab" onclick="switchTab('mobile')">Mobile Logo Integration</div>
      <div class="tab" onclick="switchTab('branding')">Branding Settings</div>
    </div>
    
    <div id="web-tab" class="tab-content active">
      <h2>Web Logo Integration</h2>
      <p>The web version of the application should use the blue checkmark logo on white backgrounds:</p>
      
      <div class="logo-examples">
        <div class="logo-example">
          <img src="/icons/custom-checkmark-logo.svg" alt="Blue Logo" style="width: 120px; height: auto;">
          <div class="logo-path">/icons/custom-checkmark-logo.svg</div>
        </div>
      </div>
      
      <div class="section">
        <h3>HTML Implementation</h3>
        <p>Add this code to your web application to display the logo:</p>
        
        <div class="code-block">
          <div class="code-header">HTML</div>
<pre>&lt;img 
  src="/icons/custom-checkmark-logo.svg" 
  alt="TSK Platform Logo" 
  class="logo"
  onerror="handleLogoError(this)"
/&gt;</pre>
        </div>
        
        <div class="code-block">
          <div class="code-header">JavaScript Error Handler</div>
<pre>function handleLogoError(imgElement) {
  console.error('Logo failed to load: ' + imgElement.src);
  
  // Try fallback logos in sequence
  const fallbacks = [
    '/taskium-logo.svg',
    '/mobile-logo.svg'
  ];
  
  if (imgElement.dataset.fallbackIndex === undefined) {
    imgElement.dataset.fallbackIndex = 0;
  } else {
    imgElement.dataset.fallbackIndex = parseInt(imgElement.dataset.fallbackIndex) + 1;
  }
  
  const index = parseInt(imgElement.dataset.fallbackIndex);
  if (index < fallbacks.length) {
    imgElement.src = fallbacks[index];
  }
}</pre>
        </div>
        
        <div class="note">
          <strong>Best Practice:</strong> Always include error handling for logo loading to ensure that something displays even if the primary logo fails to load.
        </div>
      </div>
      
      <div class="section">
        <h3>CSS Styling</h3>
        <p>Use the following CSS to properly style the logo:</p>
        
        <div class="code-block">
          <div class="code-header">CSS</div>
<pre>.logo {
  max-width: 150px;
  height: auto;
  display: block;
}

/* For header logos */
.header-logo {
  height: 40px;
  width: auto;
}

/* For mobile responsiveness */
@media (max-width: 768px) {
  .header-logo {
    height: 30px;
  }
}</pre>
        </div>
      </div>
      
      <div class="section">
        <h3>Testing</h3>
        <p>Verify that the logo displays correctly in different browser environments:</p>
        
        <table>
          <tr>
            <th>Browser</th>
            <th>Support</th>
            <th>Notes</th>
          </tr>
          <tr>
            <td>Chrome</td>
            <td>✅ Full Support</td>
            <td>SVGs display with no issues</td>
          </tr>
          <tr>
            <td>Firefox</td>
            <td>✅ Full Support</td>
            <td>SVGs display with no issues</td>
          </tr>
          <tr>
            <td>Safari</td>
            <td>✅ Full Support</td>
            <td>SVGs display with no issues</td>
          </tr>
          <tr>
            <td>Edge</td>
            <td>✅ Full Support</td>
            <td>SVGs display with no issues</td>
          </tr>
          <tr>
            <td>IE 11</td>
            <td>⚠️ Limited Support</td>
            <td>Use PNG fallback for IE 11</td>
          </tr>
        </table>
      </div>
    </div>
    
    <div id="mobile-tab" class="tab-content">
      <h2>Mobile Logo Integration</h2>
      <p>The mobile app should use the white version of the logo on colored backgrounds:</p>
      
      <div class="logo-examples">
        <div class="logo-example purple-bg">
          <img src="/mobile-logo.svg" alt="White Logo" style="width: 120px; height: auto;">
          <div class="logo-path">/mobile-logo.svg</div>
        </div>
        
        <div class="logo-example dark-bg">
          <img src="/mobile-logo.svg" alt="White Logo" style="width: 120px; height: auto;">
          <div class="logo-path">/mobile-logo.svg</div>
        </div>
      </div>
      
      <div class="section">
        <h3>Android WebView Implementation</h3>
        <p>For Android WebView apps, update the MainActivity.java file:</p>
        
        <div class="code-block">
          <div class="code-header">MainActivity.java</div>
<pre>@SuppressLint("SetJavaScriptEnabled")
private void configureWebView() {
    WebSettings webSettings = webView.getSettings();
    webSettings.setJavaScriptEnabled(true);
    webSettings.setDomStorageEnabled(true);
    webSettings.setCacheMode(WebSettings.LOAD_DEFAULT);
    webSettings.setAllowFileAccess(true);
    webSettings.setMixedContentMode(WebSettings.MIXED_CONTENT_ALWAYS_ALLOW);
    
    // Enable SVG support
    webSettings.setLoadWithOverviewMode(true);
    webSettings.setUseWideViewPort(true);
    
    // Add JavaScript interfaces
    webView.addJavascriptInterface(new WebAppInterface(this), "Android");
}</pre>
        </div>
      </div>
      
      <div class="section">
        <h3>React Native Implementation</h3>
        <p>For React Native mobile apps, use this component:</p>
        
        <div class="code-block">
          <div class="code-header">LogoComponent.js</div>
<pre>import React, { useState } from 'react';
import { Image, StyleSheet, View } from 'react-native';

const LogoHeader = () => {
  const [logoSource, setLogoSource] = useState({ uri: 'https://yourserver.com/mobile-logo.svg' });
  const [hasError, setHasError] = useState(false);

  const handleError = () => {
    setHasError(true);
    // Fall back to local asset if remote fails
    setLogoSource(require('../assets/logo-white.png'));
  };

  return (
    &lt;View style={styles.container}&gt;
      {!hasError ? (
        &lt;Image
          source={logoSource}
          style={styles.logo}
          resizeMode="contain"
          onError={handleError}
        /&gt;
      ) : (
        &lt;Image
          source={logoSource}
          style={styles.logo}
          resizeMode="contain"
        /&gt;
      )}
    &lt;/View&gt;
  );
};

const styles = StyleSheet.create({
  container: {
    justifyContent: 'center',
    alignItems: 'center',
  },
  logo: {
    width: 120,
    height: 40,
  },
});

export default LogoHeader;</pre>
        </div>
      </div>
      
      <div class="section">
        <h3>Embedded SVG Method (Most Compatible)</h3>
        <p>For maximum compatibility across all mobile environments, use the embedded SVG approach:</p>
        
        <div class="code-block">
          <div class="code-header">HTML with Embedded SVG</div>
<pre>&lt;div class="logo-container"&gt;
  &lt;!-- Embedded SVG logo for maximum compatibility --&gt;
  &lt;svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill="none"&gt;
    &lt;!-- Outer circle with white stroke --&gt;
    &lt;circle cx="256" cy="256" r="240" stroke="white" stroke-width="32" fill="transparent"/&gt;
    
    &lt;!-- Main checkmark inside circle --&gt;
    &lt;path d="M335 170 L230 320 L170 250" stroke="white" stroke-width="40" stroke-linecap="round" stroke-linejoin="round" fill="transparent"/&gt;
    
    &lt;!-- Partial checkmark/bracket shape on left --&gt;
    &lt;path d="M210 320 C210 320 185 310 180 285 C175 260 190 240 200 230" stroke="white" stroke-width="25" stroke-linecap="round" fill="transparent"/&gt;
    
    &lt;!-- Dot at top of bracket --&gt;
    &lt;circle cx="205" cy="225" r="12" fill="white"/&gt;
    
    &lt;!-- Dot at bottom of bracket --&gt;
    &lt;circle cx="180" cy="285" r="12" fill="white"/&gt;
  &lt;/svg&gt;
&lt;/div&gt;</pre>
        </div>
        
        <div class="success">
          <strong>Advantages:</strong> Works on all devices, no external file dependencies, consistent rendering.
        </div>
      </div>
      
      <div class="warning">
        <strong>Important Note:</strong> Some mobile WebView environments have limited SVG support. Always implement fallback mechanisms such as embedded SVG or CSS fallbacks for maximum compatibility.
      </div>
    </div>
    
    <div id="branding-tab" class="tab-content">
      <h2>Branding Settings</h2>
      <p>The platform's branding settings control how logos are displayed throughout the application.</p>
      
      <div class="section">
        <h3>Current Branding Configuration</h3>
        <p>The current branding settings are configured as follows:</p>
        
        <table>
          <tr>
            <th>Setting</th>
            <th>Value</th>
            <th>Description</th>
          </tr>
          <tr>
            <td>Site Name</td>
            <td>TSK Platform</td>
            <td>The name displayed in headers and titles</td>
          </tr>
          <tr>
            <td>Site Tagline</td>
            <td>The Future of AI Knowledge Management</td>
            <td>Subheading text displayed on landing pages</td>
          </tr>
          <tr>
            <td>Logo URL</td>
            <td>/icons/custom-checkmark-logo.svg</td>
            <td>Primary logo used in web interfaces</td>
          </tr>
          <tr>
            <td>Mobile Logo URL</td>
            <td>/mobile-logo.svg</td>
            <td>White logo version for mobile interfaces</td>
          </tr>
          <tr>
            <td>Logo Type</td>
            <td>custom</td>
            <td>Using custom uploaded logo instead of default</td>
          </tr>
          <tr>
            <td>Primary Color</td>
            <td>#19466B</td>
            <td>Primary brand color used throughout the UI</td>
          </tr>
        </table>
        
        <div class="button-row">
          <button onclick="updateBrandingSettings()">Update Branding Settings</button>
          <div id="status" class="status"></div>
        </div>
      </div>
      
      <div class="section">
        <h3>API Integration</h3>
        <p>To update branding settings programmatically, use the following API endpoint:</p>
        
        <div class="code-block">
          <div class="code-header">API Request</div>
<pre>POST /api/direct-branding-settings

{
  "siteName": "TSK Platform",
  "siteTagline": "The Future of AI Knowledge Management",
  "logoUrl": "/icons/custom-checkmark-logo.svg",
  "logoType": "custom",
  "primaryColor": "#19466B",
  "mobileLogoUrl": "/mobile-logo.svg",
  "enableCustomBranding": true
}</pre>
        </div>
        
        <div class="code-block">
          <div class="code-header">JavaScript Implementation</div>
<pre>async function updateBrandingSettings() {
  try {
    const response = await fetch('/api/direct-branding-settings', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        siteName: "TSK Platform",
        siteTagline: "The Future of AI Knowledge Management",
        logoUrl: "/icons/custom-checkmark-logo.svg",
        logoType: "custom",
        primaryColor: "#19466B",
        mobileLogoUrl: "/mobile-logo.svg",
        enableCustomBranding: true
      })
    });
    
    const result = await response.json();
    
    if (result.success) {
      // Settings updated successfully
      console.log("Branding settings updated successfully");
    } else {
      // Handle error
      console.error("Error updating branding settings:", result.error);
    }
  } catch (error) {
    console.error("Exception updating branding settings:", error);
  }
}</pre>
        </div>
      </div>
    </div>
  </div>
  
  <script>
    function switchTab(tabId) {
      // Hide all tab contents
      document.querySelectorAll('.tab-content').forEach(content => {
        content.classList.remove('active');
      });
      
      // Deactivate all tabs
      document.querySelectorAll('.tab').forEach(tab => {
        tab.classList.remove('active');
      });
      
      // Show selected tab content
      document.getElementById(tabId + '-tab').classList.add('active');
      
      // Activate selected tab
      document.querySelector(`.tab[onclick="switchTab('${tabId}')"]`).classList.add('active');
    }
    
    async function updateBrandingSettings() {
      const statusEl = document.getElementById('status');
      statusEl.style.display = 'block';
      statusEl.textContent = "Updating branding settings...";
      statusEl.className = "status note";
      
      try {
        const response = await fetch('/api/direct-branding-settings', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({
            siteName: "TSK Platform",
            siteTagline: "The Future of AI Knowledge Management",
            logoUrl: "/icons/custom-checkmark-logo.svg",
            logoType: "custom",
            primaryColor: "#19466B",
            mobileLogoUrl: "/mobile-logo.svg",
            enableCustomBranding: true
          })
        });
        
        const result = await response.json();
        
        if (result.success) {
          statusEl.textContent = "Branding settings updated successfully!";
          statusEl.className = "status success";
        } else {
          statusEl.textContent = "Error updating branding settings: " + (result.error || "Unknown error");
          statusEl.className = "status warning";
        }
      } catch (error) {
        statusEl.textContent = "Exception updating branding settings: " + error.message;
        statusEl.className = "status warning";
      }
    }
  </script>
</body>
</html>